(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{3067:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6637:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},6264:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(2898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2808:function(e,t,r){Promise.resolve().then(r.bind(r,2019))},2019:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var a=r(7437),s=r(2265),l=r(4033),n=r(3067),i=r(6637),o=r(2549);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r(2898).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var c=r(6264),p=r(1396),u=r.n(p);function m(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(""),[p,m]=(0,s.useState)([]),[x,h]=(0,s.useState)(!1),[f,y]=(0,s.useState)(null),g=(0,s.useRef)(null),b=e=>{e&&(m([...p,...Array.from(e).filter(e=>"application/pdf"===e.type)].slice(0,20)),y(null))},j=e=>{m(p.filter((t,r)=>r!==e))},N=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},v=async()=>{if(!t.trim()){y("Project name is required");return}if(0===p.length){y("At least one PDF file is required");return}h(!0),y(null);try{let r=await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.trim()})});if(!r.ok)throw Error("Failed to create project");let{project:a}=await r.json(),s=new FormData;if(p.forEach(e=>{s.append("files",e)}),!(await fetch("/api/projects/".concat(a.id,"/upload"),{method:"POST",body:s})).ok)throw Error("Failed to upload files");e.push("/projects/".concat(a.id))}catch(e){y(e instanceof Error?e.message:"An error occurred"),h(!1)}};return(0,a.jsx)("div",{className:"min-h-screen bg-apple-gray-50",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)(u(),{href:"/",className:"p-2 hover:bg-white rounded-lg transition-colors",children:(0,a.jsx)(n.Z,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-apple-gray-900",children:"Create New Project"}),(0,a.jsx)("p",{className:"text-apple-gray-600 mt-1",children:"Upload PDFs and start chatting with your documents"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-apple-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-apple-gray-900 mb-4",children:"Project Details"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-apple-gray-700 mb-2",children:"Project Name"}),(0,a.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"Enter project name...",className:"w-full px-4 py-3 border border-apple-gray-200 rounded-lg focus:ring-2 focus:ring-apple-blue-500 focus:border-transparent outline-none transition-colors",disabled:x})]})]}),p.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-apple-gray-200 p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-apple-gray-900 mb-4",children:["Uploaded Files (",p.length,"/20)"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-apple-gray-50 rounded-lg",children:[(0,a.jsx)(i.Z,{size:20,className:"text-apple-red-500 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-apple-gray-900 truncate",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-apple-gray-500",children:N(e.size)})]}),(0,a.jsx)("button",{onClick:()=>j(t),className:"p-1 hover:bg-apple-gray-200 rounded transition-colors",disabled:x,children:(0,a.jsx)(o.Z,{size:16})})]},t))})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-apple-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-apple-gray-900 mb-4",children:"Source Upload"}),(0,a.jsx)("p",{className:"text-sm text-apple-gray-600 mb-4",children:"Upload up to 20 PDF documents. Text will be extracted automatically for AI analysis."}),(0,a.jsxs)("div",{onDrop:e=>{e.preventDefault(),b(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault()},className:"border-2 border-dashed border-apple-gray-300 rounded-lg p-8 text-center hover:border-apple-blue-400 transition-colors cursor-pointer",onClick:()=>{var e;return null===(e=g.current)||void 0===e?void 0:e.click()},children:[(0,a.jsx)(d,{size:48,className:"mx-auto mb-4 text-apple-gray-400"}),(0,a.jsx)("p",{className:"text-lg font-medium text-apple-gray-700 mb-2",children:"Drop PDF files here or click to browse"}),(0,a.jsx)("p",{className:"text-sm text-apple-gray-500",children:"Supports PDF files up to 10MB each"}),(0,a.jsx)("input",{ref:g,type:"file",multiple:!0,accept:".pdf",onChange:e=>b(e.target.files),className:"hidden",disabled:x})]}),p.length>=20&&(0,a.jsx)("p",{className:"text-sm text-apple-orange-600 mt-2",children:"Maximum of 20 files reached"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-apple-gray-200 p-6",children:[f&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-apple-red-50 border border-apple-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-apple-red-600",children:f})}),(0,a.jsx)("button",{onClick:v,disabled:x||!t.trim()||0===p.length,className:"w-full btn-primary py-3 flex items-center justify-center gap-2",children:x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{size:18,className:"animate-spin"}),"Creating Project..."]}):(0,a.jsx)(a.Fragment,{children:"Create Project"})}),(0,a.jsx)("p",{className:"text-xs text-apple-gray-500 mt-2 text-center",children:"Files will be processed in the background. You'll be redirected to start chatting once ready."})]})]})]})]})})}},622:function(e,t,r){"use strict";var a=r(2265),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,r){var a,l={},d=null,c=null;for(a in void 0!==r&&(d=""+r),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)n.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:s,type:e,key:d,ref:c,props:l,_owner:i.current}}t.Fragment=l,t.jsx=d,t.jsxs=d},7437:function(e,t,r){"use strict";e.exports=r(622)}},function(e){e.O(0,[951,971,938,744],function(){return e(e.s=2808)}),_N_E=e.O()}]);